<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¸”ë¡œê·¸ - ìƒˆë²½í•˜ìš°ì§• - í™©í† ë°© í’ê²½</title>
    <meta name="description" content="ìƒˆë²½í•˜ìš°ì§•ì˜ ì‹œê³µ ì´ì•¼ê¸°, í™©í† ì§‘ ê´€ë¦¬ íŒ, ê±´ì¶• ë…¸í•˜ìš°ë¥¼ ê³µìœ í•©ë‹ˆë‹¤.">
    <link rel="canonical" href="https://dawn-housing.vercel.app/blog.html">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.8/dist/web/static/pretendard.css">
    <link rel="stylesheet" href="css/style.css">
    <meta property="og:title" content="ë¸”ë¡œê·¸ - ìƒˆë²½í•˜ìš°ì§•">
    <meta property="og:description" content="ìƒˆë²½í•˜ìš°ì§•ì˜ ì‹œê³µ ì´ì•¼ê¸°, í™©í† ì§‘ ê´€ë¦¬ íŒ, ê±´ì¶• ë…¸í•˜ìš°ë¥¼ ê³µìœ í•©ë‹ˆë‹¤.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dawn-housing.vercel.app/blog.html">
</head>
<body>
    <header class="header">
        <div class="container">
            <a href="/" class="logo">ìƒˆë²½í•˜ìš°ì§• - í™©í† ë°© í’ê²½</a>
            <nav class="nav">
                <ul>
                    <li><a href="/#about">íšŒì‚¬ ì†Œê°œ</a></li>
                    <li><a href="/#features">ê±´ì¶• ì² í•™</a></li>
                    <li><a href="/#gallery">ì‹œê³µ ì‚¬ë¡€</a></li>
                    <li><a href="/blog.html">ë¸”ë¡œê·¸</a></li>
                    <li><a href="/#contact">ë¬¸ì˜í•˜ê¸°</a></li>
                </ul>
            </nav>
            <a href="/#contact" class="btn btn-primary">ì‹œê³µ ë¬¸ì˜</a>
        </div>
    </header>

    <main>
        <section class="section">
            <div class="container">
                <h1 class="section-title text-center">ë¸”ë¡œê·¸</h1>
                <p class="section-description text-center">ìƒˆë²½í•˜ìš°ì§•ì˜ ì‹œê³µ ì´ì•¼ê¸°ì™€ ê±´ì¶• ë…¸í•˜ìš°ë¥¼ ê³µìœ í•©ë‹ˆë‹¤.</p>
                
                <div id="blog-posts-container" class="blog-posts-grid">
                    <!-- ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ì¹´ë“œê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
                
                <div id="no-posts-message" style="display: none; text-align: center; padding: 3rem; color: #666;">
                    <p>ì•„ì§ ì‘ì„±ëœ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 ìƒˆë²½í•˜ìš°ì§• - í™©í† ë°© í’ê²½. All Rights Reserved. | <a href="/admin.html">ê´€ë¦¬ì í˜ì´ì§€</a></p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const postsContainer = document.getElementById('blog-posts-container');
            const noPostsMessage = document.getElementById('no-posts-message');

            try {
                const response = await fetch('/api/blog/posts');
                const posts = await response.json();

                if (posts.length === 0) {
                    noPostsMessage.style.display = 'block';
                    return;
                }

                posts.forEach(post => {
                    const card = document.createElement('div');
                    card.className = 'blog-card';
                    
                    // ë³¸ë¬¸ì—ì„œ í…ìŠ¤íŠ¸ë§Œ ì¶”ì¶œí•˜ì—¬ ìš”ì•½ ìƒì„± (ìµœëŒ€ 150ì)
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = post.content;
                    const textContent = tempDiv.textContent || tempDiv.innerText || '';
                    const excerpt = textContent.substring(0, 150) + (textContent.length > 150 ? '...' : '');
                    
                    // ë‚ ì§œ í¬ë§·íŒ…
                    const createdDate = new Date(post.created_at).toLocaleDateString('ko-KR', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                    
                    // ì¸ë„¤ì¼ì´ ìˆìœ¼ë©´ í‘œì‹œ, ì—†ìœ¼ë©´ ê¸°ë³¸ ì´ë¯¸ì§€
                    const thumbnailHtml = post.thumbnail 
                        ? `<img src="${post.thumbnail}" alt="${post.title}" class="blog-card-thumbnail">`
                        : `<div class="blog-card-no-thumbnail"><span>ğŸ“</span></div>`;
                    
                    card.innerHTML = `
                        <a href="/blog-post.html?id=${post.id}" class="blog-card-link">
                            ${thumbnailHtml}
                            <div class="blog-card-content">
                                <h2 class="blog-card-title">${post.title}</h2>
                                <p class="blog-card-excerpt">${excerpt}</p>
                                <div class="blog-card-meta">
                                    <span class="blog-card-author">${post.author || 'ìƒˆë²½í•˜ìš°ì§•'}</span>
                                    <span class="blog-card-date">${createdDate}</span>
                                </div>
                            </div>
                        </a>
                    `;
                    
                    postsContainer.appendChild(card);
                });
            } catch (error) {
                console.error('ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ë¡œë”© ì˜¤ë¥˜:', error);
                noPostsMessage.textContent = 'ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
                noPostsMessage.style.display = 'block';
            }
        });
    </script>
</body>
</html>

